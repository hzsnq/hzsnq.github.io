import{d as e,L as t,r as a,m as l,a as s,y as n,b as u,c as d,w as o,e as c,n as i,g as f,u as m,f as r,t as v,h as _,i as p,F as y,q as D,k as I,j as g,E as h,G as b,l as x}from"./index-61664f9b.js";import{_ as j,b as C,a as k}from"./NavBar.df2199e1.js";import{_ as A}from"./download.6031f376.js";import{d as R}from"./dayjs.min.8200664b.js";import{u as Y}from"./investment.641d2b7a.js";const w=k(e({__name:"investmentDetails",setup(e){const k=Y(),{investmentInfo:w}=t(k),M=a({isNotification:!0,backgroundColor:"#fff",isBack:!0}),E=a(""),$=a(""),F=a([]),T=a({}),N=a([]),P=a(!0),B=a(!0);l((e=>{console.log("ðŸš€ ~ file: investmentDetails.vue:14 ~ onLoad ~ options:",e),E.value=(null==e?void 0:e.eId)||"",$.value=(null==e?void 0:e.fId)||""})),s((()=>{!async function(){let e={id:$.value};const[t,a]=await n.getFundsDetail(e);!t&&a&&(null==a?void 0:a.success)&&(console.log("ðŸš€ ~ file: investmentDetails.vue:42 ~ getFundsDetail ~ r:",null==a?void 0:a.data),T.value=(null==a?void 0:a.data)||{})}(),async function(){let e={entityId:E.value,fundId:$.value};const[t,a]=await n.getInvestmentDetail(e);!t&&a&&(null==a?void 0:a.success)&&(console.log("ðŸš€ ~ file: investmentDetails.vue:28 ~ getDetail ~ r:",null==a?void 0:a.data),F.value=(null==a?void 0:a.data)||[])}(),async function(){var e,t;let a={entityId:E.value,fundId:$.value,pageNum:1,pageSize:1e5};const[l,s]=await n.getPurchasedFundAll(a);!l&&s&&(null==s?void 0:s.success)&&(console.log("ðŸš€ ~ file: investmentDetails.vue:42 ~ getPurchasedFundByEntityId ~ r:",null==(e=null==s?void 0:s.data)?void 0:e.list),N.value=(null==(t=null==s?void 0:s.data)?void 0:t.list)||[])}()}));const S=e=>{"inv"===e?P.value=!P.value:B.value=!B.value},q=()=>{I({url:"/pages/investment/reInvestment"})};return(e,t)=>{const a=j,l=g,s=h(b("uni-icons"),C),n=x;return u(),d(l,{class:"common-bg"},{default:o((()=>[c(a,i(f(m(M))),null,16),c(l,{class:"investment"},{default:o((()=>[c(l,{class:"title"},{default:o((()=>[r("Investment Details")])),_:1}),c(l,{class:"item"},{default:o((()=>[c(l,{class:"fund-title"},{default:o((()=>[c(l,{class:"name"},{default:o((()=>{var e,t;return[r(v((null==(e=m(T))?void 0:e.name)||(null==(t=m(T))?void 0:t.nameCN)),1)]})),_:1})])),_:1}),c(l,{class:"fund-info"},{default:o((()=>[c(l,{class:"fund-item"},{default:o((()=>[c(l,{class:"name"},{default:o((()=>[r("Funds Category")])),_:1}),c(l,{class:"text"},{default:o((()=>{var e,t;return[r(v((null==(e=m(T))?void 0:e.fundType)||(null==(t=m(T))?void 0:t.fundTypeCN)),1)]})),_:1})])),_:1}),c(l,{class:"fund-item"},{default:o((()=>[c(l,{class:"name"},{default:o((()=>[r("Invest Term")])),_:1}),c(l,{class:"text"},{default:o((()=>{var e;return[r(v(null==(e=m(T))?void 0:e.bprojectDurationMonth)+" months",1)]})),_:1})])),_:1}),c(l,{class:"fund-item"},{default:o((()=>[c(l,{class:"name"},{default:o((()=>[r("Minimum Required Investment Amount")])),_:1}),c(l,{class:"text"},{default:o((()=>{var e,t;return[r("$"+v(null==(e=m(T))?void 0:e.purchaseMinAmount)+" "+v(null==(t=m(T))?void 0:t.currency),1)]})),_:1})])),_:1}),c(l,{class:"fund-item"},{default:o((()=>[c(l,{class:"name"},{default:o((()=>[r("Fixed Interest Rate(Per annum)")])),_:1}),c(l,{class:"text"},{default:o((()=>{var e;return[r(v(null==(e=m(T))?void 0:e.byearlyReturnRate)+"%",1)]})),_:1})])),_:1}),c(l,{class:"fund-item"},{default:o((()=>[c(l,{class:"name"},{default:o((()=>[r("Investment Type")])),_:1}),c(l,{class:"text"},{default:o((()=>{var e,t;return[r(v((null==(e=m(T))?void 0:e.investmentType)||(null==(t=m(T))?void 0:t.investmentTypeCN)),1)]})),_:1})])),_:1})])),_:1}),c(l,{class:"common-info"},{default:o((()=>[c(l,{class:"common-title p-b-20"},{default:o((()=>[r("Investment Details")])),_:1}),c(l,{class:"common-text"},{default:o((()=>[r("Total Investment Amount: $"+v(m(w).purchasedAmount),1)])),_:1}),c(l,{class:"common-text"},{default:o((()=>[r("Current Investment Return: $"+v(m(w).currentReturn),1)])),_:1}),c(l,{class:"common-text"},{default:o((()=>[r("Cumulative Expected Interest Amount: $"+v(m(w).totalReturn),1)])),_:1})])),_:1}),c(l,{class:"common-info"},{default:o((()=>[c(l,{class:"flex justify-between align-center"},{default:o((()=>[c(l,{class:"common-title"},{default:o((()=>[r("Investment Record")])),_:1}),c(l,{class:"more",onClick:t[0]||(t[0]=e=>S("inv"))},{default:o((()=>[r(v(m(P)?"hide":"more")+" ",1),c(s,{type:m(P)?"bottom":"top",size:"12",color:"#BE9670"},null,8,["type"])])),_:1})])),_:1})])),_:1}),m(P)?(u(),d(l,{key:0,class:"common-table"},{default:o((()=>[c(l,{class:"th flex justify-between align-center"},{default:o((()=>[c(l,{class:"tl"},{default:o((()=>[r("Payment Date")])),_:1}),c(l,{class:"tl"},{default:o((()=>[r("Investment Amount")])),_:1}),c(l,{class:"tl"},{default:o((()=>[r("Current Return")])),_:1}),c(l,{class:"ta"},{default:o((()=>[r("Action")])),_:1})])),_:1}),(u(!0),_(y,null,p(m(F),((e,t)=>(u(),d(l,{class:"td flex justify-between align-center",key:t},{default:o((()=>[c(l,{class:"tl"},{default:o((()=>[r(v(e.paymentDate?m(R)(e.paymentDate).format("YYYY.MM.DD"):""),1)])),_:2},1024),c(l,{class:"tl"},{default:o((()=>[r("$"+v(e.investmentAmount),1)])),_:2},1024),c(l,{class:"tl"},{default:o((()=>[r("$"+v(e.currentReturn),1)])),_:2},1024),c(l,{class:"ta"},{default:o((()=>[c(n,{class:"common-icon",src:A})])),_:1})])),_:2},1024)))),128))])),_:1})):D("v-if",!0),c(l,{class:"common-info"},{default:o((()=>[c(l,{class:"flex justify-between align-center"},{default:o((()=>[c(l,{class:"common-title"},{default:o((()=>[r("Purchase Record")])),_:1}),c(l,{class:"more",onClick:t[1]||(t[1]=e=>S("pur"))},{default:o((()=>[r(v(m(B)?"hide":"more")+" ",1),c(s,{type:m(B)?"bottom":"top",size:"12",color:"#BE9670"},null,8,["type"])])),_:1})])),_:1})])),_:1}),m(B)?(u(),d(l,{key:1,class:"common-table"},{default:o((()=>[c(l,{class:"th flex justify-between align-center"},{default:o((()=>[c(l,{class:"tl"},{default:o((()=>[r("Purchased Amount")])),_:1}),c(l,{class:"tl"},{default:o((()=>[r("Interest Start Date")])),_:1}),c(l,{class:"tl"},{default:o((()=>[r("Interest End Date")])),_:1}),c(l,{class:"ta"},{default:o((()=>[r("Action")])),_:1})])),_:1}),(u(!0),_(y,null,p(m(N),((e,t)=>(u(),d(l,{class:"td flex justify-between align-center",key:t},{default:o((()=>[c(l,{class:"tl"},{default:o((()=>[r(v(e.purchasedAmount),1)])),_:2},1024),c(l,{class:"tl"},{default:o((()=>[r(v(e.purchaseStartDate?m(R)(e.purchaseStartDate).format("YYYY.MM.DD"):""),1)])),_:2},1024),c(l,{class:"tl"},{default:o((()=>[r(v(e.purchaseEndDate?m(R)(e.purchaseEndDate).format("YYYY.MM.DD"):""),1)])),_:2},1024),c(l,{class:"ta"},{default:o((()=>[c(l,{class:"detail",onClick:t=>(e=>{I({url:`/pages/investment/purchaseDetails?pId=${e.id}&fId=${e.fundId}`})})(e)},{default:o((()=>[r("Details")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):D("v-if",!0)])),_:1}),c(l,{class:"btn",onClick:q},{default:o((()=>[r(" Re-Investment ")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-f9c9ec0f"]]);export{w as default};
