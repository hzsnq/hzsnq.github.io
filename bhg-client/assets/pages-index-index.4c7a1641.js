import{d as a,r as l,o as s,a as t,s as e,b as o,c as u,w as c,e as n,f as d,n as r,g as i,u as f,h as m,i as _,F as v,j as p,S as g,t as b,k as x,l as k}from"./index-5c3c44fe.js";import{_ as y}from"./TabBar.6a38cc49.js";import{_ as C,a as h}from"./NavBar.c3c1f6a6.js";import{u as S}from"./useFunds.f0451c5f.js";const j=h(a({__name:"index",setup(a){const h=l([]),j=l([]),F=l(1),N=l(10),{fundStatus:P,getFundsAll:w,getPopularData:z}=S();s((()=>{I()})),t((()=>{B()}));const A=l({isNotification:!0,backgroundColor:"#fff"}),B=async()=>{const a=await z();console.log("ðŸš€ ~ file: index.vue:18 ~ getPopular ~ data:",a),h.value=a},I=async()=>{const a=await w({pageNum:F.value,pageSize:N.value});console.log("ðŸš€ ~ file: index.vue:24 ~ getAllProduct ~ data:",a),1===F.value?j.value=(null==a?void 0:a.list)||[]:(null==a?void 0:a.list.length)<=0?(F.value=F.value-1,e({icon:"none",title:"There's no more"})):j.value=j.value.concat((null==a?void 0:a.list)||[])},T=async()=>{F.value=F.value+1,I()},D=a=>{x({url:`/pages/index/detail?fId=${a.id}`})};return(a,l)=>{const s=p,t=C,e=k,x=g,S=y;return o(),u(s,{class:"home"},{default:c((()=>[n(t,r(i(f(A))),{content:c((()=>[n(s,{class:"bar-title act"},{default:c((()=>[d("Popular")])),_:1})])),_:1},16),n(s,{class:"popular"},{default:c((()=>[n(x,{class:"scroll-top","scroll-x":!0,"scroll-anchoring":!0},{default:c((()=>[(o(!0),m(v,null,_(f(h),((a,l)=>(o(),u(s,{class:"item",key:l,onClick:l=>D(a)},{default:c((()=>[n(s,{class:"banner"},{default:c((()=>[n(e,{class:"img",src:a.cover,mode:"aspectFill","lazy-load":!0},null,8,["src"])])),_:2},1024),n(s,{class:"bottom"},{default:c((()=>[n(s,{class:"title texts-cut"},{default:c((()=>[d(b(a.name||a.nameCN),1)])),_:2},1024),n(s,{class:"status"},{default:c((()=>[d(b(f(P)(a.fundStatus)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),n(s,{class:"product"},{default:c((()=>[n(s,{class:"sub-title"},{default:c((()=>[d("All Product")])),_:1}),n(x,{class:"scroll-all","scroll-x":!0,"scroll-anchoring":!0,onScrolltolower:T},{default:c((()=>[(o(!0),m(v,null,_(f(j),((a,l)=>(o(),u(s,{class:"item",key:l,onClick:l=>D(a)},{default:c((()=>[n(s,{class:"banner"},{default:c((()=>[n(e,{class:"img",src:a.cover,mode:"aspectFill","lazy-load":!0},null,8,["src"])])),_:2},1024),n(s,{class:"bottom"},{default:c((()=>[n(s,{class:"title texts-cut"},{default:c((()=>[d(b(a.name||a.nameCN),1)])),_:2},1024),n(s,{class:"status"},{default:c((()=>[d(b(f(P)(a.fundStatus)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),n(S)])),_:1})}}}),[["__scopeId","data-v-600bdb0a"]]);export{j as default};
