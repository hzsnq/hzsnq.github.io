import{d as s,r as a,o as t,z as e,y as l,s as i,b as u,c as o,w as n,e as d,n as c,g as r,u as f,f as m,h as v,i as g,F as p,j as _,t as b,p as j,k}from"./index-5c3c44fe.js";import{_ as h,a as y}from"./NavBar.c3c1f6a6.js";import{d as Y}from"./dayjs.min.8200664b.js";const x=y(s({__name:"submission",setup(s){const y=a({isNotification:!0,backgroundColor:"#fff",isBack:!0}),x=a([]),A=a(1),C=a(20);t((()=>{N()})),e((()=>{A.value=A.value+1,N()}));async function N(){var s,a,t;let e={pageNum:A.value,pageSize:C.value};const[u,o]=await l.getAudit(e);!u&&o&&(null==o?void 0:o.success)&&(console.log("ðŸš€ ~ file: submission.vue:42 ~ getAudit ~ r:",o.data.list),1===A.value?x.value=(null==(s=o.data)?void 0:s.list)||[]:(null==(a=o.data)?void 0:a.list.length)<=0?(A.value=A.value-1,i({icon:"none",title:"There's no more"})):x.value=x.value.concat((null==(t=o.data)?void 0:t.list)||[]))}return(s,a)=>{const t=h,e=_;return u(),o(e,{class:"common-bg"},{default:n((()=>[d(t,c(r(f(y))),null,16),d(e,{class:"submission"},{default:n((()=>[d(e,{class:"title"},{default:n((()=>[m("Submission")])),_:1}),d(e,{class:"list"},{default:n((()=>[(u(!0),v(p,null,g(f(x),((s,a)=>(u(),o(e,{class:"item",key:a,onClick:a=>(s=>{console.log(s),k({url:`/pages/submission/detail?aId=${s.id}`})})(s)},{default:n((()=>[d(e,{class:"left"},{default:n((()=>[m(b(f(Y)(s.updatedAt).format("YYYY.MM.DD")),1)])),_:2},1024),d(e,{class:"center"},{default:n((()=>[m(b(s.auditType),1)])),_:2},1024),d(e,{class:j("Rejected"===s.status?"right text-red":"right")},{default:n((()=>[m(b("Pending approval"===s.status?"Processing":s.status),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-7bf32596"]]);export{x as default};
