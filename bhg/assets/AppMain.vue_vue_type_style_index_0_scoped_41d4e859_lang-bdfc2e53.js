import{a as N}from"./index-35b0e3a1.js";/* empty css                */import{aB as T,aC as V,s as G,d as R,aD as U,a as Y,o as q,r as F,b as _,c as L,e,j as o,f as s,t as c,g as t,h as g,i as O,F as j,a1 as z,aE as W,m as E,l as v,S as J,aF as K,aG as X,E as $,W as Q,X as Z,a0 as ee,aH as te,aI as se,aJ as oe,aK as ae,x as ne,y as re,_ as ce}from"./index-5a0eb1b1.js";import{u as de}from"./useUser-46e05e2c.js";const le=T("storeApp",{state:()=>({breadcrumbList:[]}),actions:{setBreadcrumbList(a){this.breadcrumbList=a},resetBreadcrumbList(){this.breadcrumbList=[]}}});function _e(){return le(V)}function ie(){const a=_e(),{breadcrumbList:h}=G(a);return{breadcrumbList:h,setBreadcrumbList:i=>a.setBreadcrumbList(i),resetBreadcrumbList:()=>a.resetBreadcrumbList()}}const k=a=>(ne("data-v-722c8a15"),a=a(),re(),a),ue=k(()=>o("div",{class:"first-home"},"BHG GLOBAL",-1)),pe={class:"sub-home"},me={class:"sub-home"},he={class:"toolbar"},be={class:"message"},fe={key:0,class:"tips"},ge={key:0},ve={class:"title"},ye={class:"text-BE9670"},we=["onClick"],Be=k(()=>o("span",null,"View",-1)),Le=[Be],Ee={class:"avatar"},ke={class:"user-name"},xe=R({__name:"PageHeader",setup(a){const{breadcrumbList:h}=ie(),{getPermissionsWhite:y}=U(),b=Y(),{adminEmail:i,loginOut:x}=de();function I(d){return d.substring(0,1).toUpperCase()}q(()=>{S()});const n=F([]);async function S(){var m;if(!y("Audit"))return;let d={pageSize:1e4,pageNum:1},u={status:"Pending approval"};const[l,p]=await N.queryAudit(u,d);!l&&p?n.value=((m=p.data)==null?void 0:m.list)||[]:console.log(l)}const A=d=>{b.push({path:"/audit/index",query:{aId:d.id}}).catch(u=>{console.warn(u)})};return(d,u)=>{const l=K,p=X,m=$,f=Q,C=Z,D=ee,w=te,H=se,M=oe,P=ae;return _(),L(P,{class:"header"},{default:e(()=>[o("div",null,[s(p,{"separator-icon":t(z)},{default:e(()=>[s(l,{to:{path:"/"}},{default:e(()=>[ue]),_:1}),s(l,null,{default:e(()=>{var r;return[o("div",pe,c((r=t(b))==null?void 0:r.currentRoute.value.name),1)]}),_:1}),(_(!0),g(j,null,O(t(h),(r,B)=>(_(),L(l,{key:B},{default:e(()=>[o("div",me,c(r.name),1)]),_:2},1024))),128))]),_:1},8,["separator-icon"])]),o("div",he,[s(D,{placement:"bottom",width:544,trigger:"click",disabled:t(n).length<=0},{reference:e(()=>[o("div",be,[s(m,{size:"24px"},{default:e(()=>[s(t(W))]),_:1}),t(n).length>0?(_(),g("div",fe,c(t(n).length>99?"99+":t(n).length),1)):E("",!0)])]),default:e(()=>[t(n).length>0?(_(),g("div",ge,[o("div",ve,[o("span",ye,c(t(n).length),1),v(" System messages ")]),s(C,{data:t(n),height:"140","show-header":!1},{default:e(()=>[s(f,{property:"createdAt",label:""},{default:e(r=>[o("span",null,c(t(J)(r.row.createdAt).format("DD-MM-YYYY hh:mm")),1)]),_:1}),s(f,{property:"auditType",label:""}),s(f,{property:"",label:""},{default:e(r=>[o("div",{class:"table-name pointer",onClick:B=>A(r.row)},Le,8,we)]),_:1})]),_:1},8,["data"])])):E("",!0)]),_:1},8,["disabled"]),s(M,null,{dropdown:e(()=>[s(H,null,{default:e(()=>[s(w,null,{default:e(()=>[v("User Info")]),_:1}),s(w,{divided:"",onClick:t(x)},{default:e(()=>[v("Login Out")]),_:1},8,["onClick"])]),_:1})]),default:e(()=>[o("div",Ee,c(I(t(i))),1)]),_:1}),o("div",ke,c(t(i)),1)])]),_:1})}}});const De=ce(xe,[["__scopeId","data-v-722c8a15"]]);export{De as P,ie as u};
