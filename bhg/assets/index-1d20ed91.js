/* empty css             *//* empty css                     */import{u as f}from"./useUser-98556ca9.js";import{a as w}from"./index-88126582.js";import{d as x,u as h,r as v,M as F,p as y,s as i,l as n,w as l,n as o,N as b,O as E,j as V,b as k,P as I,Q as B,x as U,G as C,H as L,R as N,S as R,T as S,_ as z}from"./index-766a4c77.js";import{_ as K}from"./bhg-logo-5b729188.js";const q=t=>(C("data-v-d95c1ab9"),t=t(),L(),t),D={class:"login-container"},M={class:"login-card"},P=q(()=>i("div",{class:"title"},[i("img",{src:K})],-1)),T={class:"content"},j=x({__name:"index",setup(t){const _=h(),c=v(),{setUserInfo:g}=f(),e=F({loading:!1,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"please enter user name",trigger:"blur"}],password:[{required:!0,message:"Please enter password",trigger:"blur"}]},handleLogin:()=>{c.value.validate(async u=>{if(u){e.loading=!0;const a={adminUserEmail:e.loginForm.username,password:e.loginForm.password},[r,s]=await w.userLogin(a);if(!r&&s)if(s!=null&&s.success){const d={token:s.data.token,roles:s.data.perms,adminEmail:s.data.adminEmail};g(d),e.loading=!1,_.push({path:"/"}).catch(p=>{console.warn(p)})}else e.loading=!1;else console.log(r)}else return!1})}});return(u,a)=>{const r=N,s=R,d=S,p=E;return V(),y("div",D,[i("div",M,[P,i("div",T,[n(p,{ref_key:"loginFormDom",ref:c,model:o(e).loginForm,rules:o(e).loginRules,onKeyup:b(o(e).handleLogin,["enter"])},{default:l(()=>[n(s,{prop:"username"},{default:l(()=>[n(r,{modelValue:o(e).loginForm.username,"onUpdate:modelValue":a[0]||(a[0]=m=>o(e).loginForm.username=m),placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":o(k),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),n(s,{prop:"password"},{default:l(()=>[n(r,{modelValue:o(e).loginForm.password,"onUpdate:modelValue":a[1]||(a[1]=m=>o(e).loginForm.password=m),placeholder:"密码",type:"password",tabindex:"2","prefix-icon":o(I),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),n(d,{loading:o(e).loading,type:"primary",size:"large",color:"#BE9670",onClick:B(o(e).handleLogin,["prevent"])},{default:l(()=>[U(" 登 录 ")]),_:1},8,["loading","onClick"])]),_:1},8,["model","rules","onKeyup"])])])])}}});const W=z(j,[["__scopeId","data-v-d95c1ab9"]]);export{W as default};
